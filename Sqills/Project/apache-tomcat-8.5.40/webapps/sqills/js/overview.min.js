!function t(){$("#clock").html((new Date).toString().substring(4,21)),setTimeout(t,1e3)}(),$.getJSON("./api/rooms",function(t){var o;(o=$("#rooms")).append('<div class="row flex-row flex-nowrap" style="height: 75vh;"></div>'),$(t).each(function(){var t,i;t=this.id,i=this.name,o.children().append('<div class="col-lg-3 col-md-4 col-sm-6 mb-4" style="display: flex;"><button class="col-12 btn btn-success btn-lg" id="room'+t+'" value="'+t+'"><h1>'+i+'</h1><hr><div class="information"><h2>Available</h2></div></button></div>'),$("#room"+t).click(function(){$(location).prop("href","./room/"+t)})}),function t(){$.getJSON("/sqills/api/reservations/overview",function(t){$(t).each(function(){var t,o,i,e,n;t="col-12 btn btn-success btn-lg",o="<h2>Available</h2>",0!==this.startTime&&0!==this.endTime&&(i=(new Date).getTime(),e=this.startTime,n=this.endTime,i<e?e-i<=3e5&&(t="col-12 btn btn-danger btn-lg",o="<h2>Occupied Soon</h2>"):n-i>3e5?(t="col-12 btn btn-warning btn-lg",o="<h2>Occupied</h2>"):(t="col-12 btn btn-danger btn-lg",o="<h2>Available Soon</h2>"),o+="<h3>"+(e=new Date(e).toString().substring(16,21))+"-"+(n=new Date(n).toString().substring(16,21))+"</h3>",this.visible?(o+="<hr><h4>"+this.name+"</h4>",o+="<h5>"+this.user.firstName+" "+this.user.lastName,o+="<br>and "+(this.numberOfAttendees-1)+" others</h5>"):o+="<hr><h4>Private Meeting</h4>"),$("button#room"+this.room.id).prop("class",t).children(".information").html(o)})}),setTimeout(t,1e3)}(),$("#dropdown").change(function(){null!=$(this).val()?$("#submitbtn").prop("disabled",!1):$("#submitbtn").prop("disabled",!0)}),$("#submitbtn").click(function(){var t,o;t=$("#dropdown").prop("options"),o=$(t[t.selectedIndex]),localStorage.setItem("defaultRoom",JSON.stringify({id:o.val(),name:o.text()}))}),$("#exampleModal").on("shown.bs.modal",function(){$.getJSON("/sqills/api/rooms",function(t){var o,i,e,n;for(i=(o=$("#dropdown")).prop("options"),e=0;e<t.length;e++)n=t[e],i.add(new Option(n.name,n.id));o.change()})}).on("hidden.bs.modal",function(){var t;$("#dropdown").html('<option value="" disabled selected>Choose a default room</option>'),null==(t=localStorage.getItem("defaultRoom"))?$("#exampleModal").modal("show"):(t=JSON.parse(t),$("#standardRoom").html("Back to room: <b>"+t.name+"</b>"),$("#standardRoom").click(function(){$(location).prop("href","./room/"+t.id)}))}),$("#exampleModal").trigger("hidden.bs.modal"),$("#arrowright").data("right",!0).click(function(){var t,o=(t=$(".scrollable")).prop("scrollWidth")-t.prop("clientWidth");$(this).data("right")?t.animate({scrollLeft:o},500):t.animate({scrollLeft:0},500)}),$(".scrollable").scroll(function(){var t;t=$("#arrowright"),$(this).prop("scrollLeft")>($(this).prop("scrollWidth")-$(this).prop("clientWidth"))/2?t.data("right")&&(t.css("transform","rotate(180deg)"),t.data("right",!1)):t.data("right")||(t.css("transform",""),t.data("right",!0))})});